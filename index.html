const form = document.getElementById("bookingForm");
const bookingList = document.getElementById("bookingList");
const totalRoomsEl = document.getElementById("totalRooms");
const totalAmountEl = document.getElementById("totalAmount");

let totalRooms = 0;
let totalAmount = 0;

// Today date
const today = new Date().toISOString().split("T")[0];
document.getElementById("date").setAttribute("min", today);
document.getElementById("date").value = today;

form.addEventListener("submit", function(e) {
    e.preventDefault();

    const name = document.getElementById("name").value;
    const date = document.getElementById("date").value;
    const rooms = Number(document.getElementById("rooms").value);
    const price = Number(document.getElementById("price").value);

    // Past / other date not allowed
    if (date !== today) {
        alert("Only today's booking allowed!");
        return;
    }

    const amount = rooms * price;

    totalRooms += rooms;
    totalAmount += amount;

    totalRoomsEl.textContent = totalRooms;
    totalAmountEl.textContent = totalAmount;

    const li = document.createElement("li");
    li.textContent = `${name} booked ${rooms} room(s) - â‚¹${amount}`;
    bookingList.appendChild(li);

    form.reset();
    document.getElementById("date").value = today;
});
