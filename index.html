<!DOCTYPE html>
<html>
<head>
  <title>Hotel Booking</title>
  <style>
    body { font-family: Arial; }
    label { display: block; margin-top: 10px; }
    #msg { color: red; }
  </style>
</head>
<body>

<h2>Hotel Booking</h2>

<label>Check-in Date:</label>
<input type="date" id="checkin">

<label>Check-out Date:</label>
<input type="date" id="checkout">

<label>No of Rooms:</label>
<input type="number" id="rooms" min="1">
<p id="msg"></p>

<label>Total Amount:</label>
<input type="text" id="amount" readonly>

<script>
let MAX_ROOMS = 30;
let PRICE_PER_ROOM = 2000;

const checkin = document.getElementById("checkin");
const checkout = document.getElementById("checkout");
const rooms = document.getElementById("rooms");
const msg = document.getElementById("msg");
const amount = document.getElementById("amount");

/* ---- PAST DATE NOT ALLOWED ---- */
checkin.addEventListener("change", function () {
  if (!this.value) return;

  let today = new Date();
  today.setHours(0,0,0,0);
  let selected = new Date(this.value);

  if (selected < today) {
    alert("Past date not allowed");
    this.value = "";
  }
});

/* ---- ROOMS LIMIT = 30 ---- */
rooms.addEventListener("input", function () {
  if (this.value > MAX_ROOMS) {
    msg.innerText = "Rooms Filled! Only 30 bookings allowed";
    this.value = MAX_ROOMS;
  } else if (this.value == MAX_ROOMS) {
    msg.innerText = "Rooms Filled!";
  } else {
    msg.innerText = "";
  }
  calculateAmount();
});

/* ---- COST CALCULATION ---- */
checkout.addEventListener("change", calculateAmount);

function calculateAmount() {
  if (!checkin.value || !checkout.value || !rooms.value) {
    amount.value = "";
    return;
  }

  let inDate = new Date(checkin.value);
  let outDate = new Date(checkout.value);
  let days = (outDate - inDate) / (1000 * 60 * 60 * 24);

  if (days <= 0) {
    alert("Check-out must be after check-in");
    checkout.value = "";
    amount.value = "";
    return;
  }

  amount.value = "â‚¹ " + (days * rooms.value * PRICE_PER_ROOM);
}
</script>

</body>
</html>
